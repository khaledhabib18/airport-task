# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type User {
  id: String!
  name: String!
  email: String!
  phoneNumber: String!
  role: UserRole!
}

enum UserRole {
  ADMIN
  STAFF
  PASSENGER
}

type Passenger {
  id: String!
  passportNumber: String!
}

type Airport {
  id: String!
  name: String!
}

type Flight {
  id: String!
  flightNumber: String!
  departureAirport: String!
  destinationAirport: String!
  departureTime: DateTime!
  arrivalTime: DateTime!
  airline: String!
  availableSeats: Float!
  airportId: String!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type GetFlightsOutput {
  data: [Flight!]!
  total: Float!
  page: Float!
  limit: Float!
  totalPages: Float!
}

type AuthOutput {
  id: String!
  name: String!
  email: String!
  phoneNumber: String!
  role: UserRole!
  accessToken: String!
}

type Query {
  flights(airportId: String!, filter: FlightFilterInput): GetFlightsOutput!
  getFlightInfo(flightId: String!): Flight!
}

input FlightFilterInput {
  departureTime: DateTime
  destinationAirport: String
  airline: String
  page: Float
  limit: Float
}

type Mutation {
  createFlight(input: CreateFlightInput!): Flight!
  updateFlight(id: String!, input: UpdateFlightInput): Flight!
  deleteFlight(id: String!): Boolean!
  createAirport(name: String!): Airport!
  bookFlight(input: BookFlightInput!): Passenger!
  registerPassenger(input: SignupUserInput!): User!
  verifyPassenger(input: VerifyUserInput!): AuthOutput!
  signin(input: SigninUserInput!): AuthOutput!
}

input CreateFlightInput {
  flightNumber: String!
  departureAirport: String!
  destinationAirport: String!
  departureTime: DateTime!
  arrivalTime: DateTime!
  airline: String!
  availableSeats: Float!
  airportId: String!
}

input UpdateFlightInput {
  flightNumber: String
  departureAirport: String
  destinationAirport: String
  departureTime: DateTime
  arrivalTime: DateTime
  airline: String
  availableSeats: Float
  airportId: String
}

input BookFlightInput {
  flightId: String!
}

input SignupUserInput {
  name: String!
  email: String!
  password: String!
  phoneNumber: String!
  airportId: String!
  passportNumber: String!
  nationality: String!
}

input VerifyUserInput {
  email: String!
  otp: String!
}

input SigninUserInput {
  email: String!
  password: String!
  role: UserRole! = PASSENGER
}